:root {
	--bg: #0b0f14;
	--fg: #e6edf3;
	--muted: #9aa7b0;
	--accent: #4cc2ff;
	--danger: #ff5d5d;
	--panel: #121821;
	--panel-border: #1f2833;
	--shadow: 0 10px 30px rgba(0,0,0,0.35);
}

html[data-theme="light"], body[data-theme="light"], [data-theme="light"] {
	--bg: #f6f8fa;
	--fg: #0b0f14;
	--muted: #4a5a66;
	--accent: #0078d4;
	--danger: #c62828;
	--panel: #ffffff;
	--panel-border: #d0d7de;
	--shadow: 0 10px 30px rgba(0,0,0,0.12);
}

* { box-sizing: border-box; }
html, body, #app {
	height: 100%;
	margin: 0;
	background: var(--bg);
	color: var(--fg);
	font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}

#app {
	position: fixed;
	inset: 0;
}

/* Reload button (left of settings) */
#reload-button {
	position: fixed;
	top: 12px;
	right: 162px;
	z-index: 10;
	background: var(--panel);
	color: var(--fg);
	border: 1px solid var(--panel-border);
	border-radius: 999px;
	padding: 10px 12px;
	box-shadow: var(--shadow);
	cursor: pointer;
	opacity: 0;
	pointer-events: none;
	transform: translateY(-6px);
	transition: opacity .18s ease, transform .18s ease;
}
#reload-button.visible {
	opacity: 1;
	pointer-events: auto;
	transform: translateY(0);
}

#settings-button {
	position: fixed;
	top: 12px;
	right: 112px; /* left of pause; countdown sits at far right */
	z-index: 10;
	background: var(--panel);
	color: var(--fg);
	border: 1px solid var(--panel-border);
	border-radius: 999px;
	padding: 10px 12px;
	box-shadow: var(--shadow);
	cursor: pointer;
	opacity: 0;
	pointer-events: none;
	transform: translateY(-6px);
	transition: opacity .18s ease, transform .18s ease;
}
#settings-button.visible {
	opacity: 1;
	pointer-events: auto;
	transform: translateY(0);
}

#pause-indicator {
	position: fixed;
	top: 12px;
	right: 62px; /* middle */
	z-index: 10;
	background: var(--panel);
	color: var(--fg);
	border: 1px solid var(--panel-border);
	border-radius: 999px;
	padding: 10px 12px;
	box-shadow: var(--shadow);
	cursor: pointer;
	opacity: 0;
	pointer-events: none;
	transform: translateY(-6px);
	transition: opacity .18s ease, transform .18s ease;
}
#pause-indicator.visible {
	opacity: 1;
	pointer-events: auto;
	transform: translateY(0);
}

#countdown-indicator {
	position: fixed;
	top: 12px;
	right: 12px; /* right side, to the right of pause */
	z-index: 10;
	background: var(--panel);
	color: var(--fg);
	border: 1px solid var(--panel-border);
	border-radius: 999px;
	padding: 10px 12px;
	box-shadow: var(--shadow);
	opacity: 0;
	pointer-events: none;
	transform: translateY(-6px);
	transition: opacity .18s ease, transform .18s ease;
	font-weight: 700;
	min-width: 36px;
	text-align: center;
}
#countdown-indicator.visible {
	opacity: 1;
}

#arrow-left, #arrow-right {
	position: fixed;
	top: 50%;
	transform: translateY(-50%);
	z-index: 9;
	background: var(--panel);
	color: var(--fg);
	border: 1px solid var(--panel-border);
	border-radius: 999px;
	padding: 12px 14px;
	box-shadow: var(--shadow);
	cursor: pointer;
	opacity: 0;
	pointer-events: none;
	transition: opacity .18s ease;
}
#arrow-left { left: 12px; }
#arrow-right { right: 12px; }
#arrow-left.visible, #arrow-right.visible {
	opacity: 1;
	pointer-events: auto;
}

#site-tray {
	position: fixed;
	right: 16px;
	bottom: 16px;
	display: flex;
	flex-direction: row;
	align-items: center;
	padding: 8px 10px;
	background: rgba(18, 24, 33, 0.92);
	border: 1px solid var(--panel-border);
	border-radius: 14px;
	box-shadow: var(--shadow);
	z-index: 9;
	backdrop-filter: blur(6px);
	max-width: min(340px, calc(100vw - 32px));
	min-height: 56px;
	max-height: 72px;
	overflow-x: auto;
	overflow-y: hidden;
	flex-wrap: nowrap;
	white-space: nowrap;
	opacity: 0;
	pointer-events: none;
	transform: translateY(6px);
	transition: opacity .18s ease, transform .18s ease;
}
html[data-theme="light"] #site-tray,
body[data-theme="light"] #site-tray {
	background: rgba(255, 255, 255, 0.92);
}
#site-tray.hidden {
	display: none;
}
#site-tray.visible {
	opacity: 1;
	pointer-events: auto;
	transform: translateY(0);
}
.site-tray-item {
	flex: 0 0 auto;
	width: 44px;
	height: 44px;
	border-radius: 12px;
	border: 1px solid transparent;
	background: var(--panel);
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 4px;
	cursor: pointer;
	transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, filter .15s ease;
}
.site-tray-item:hover {
	transform: translateY(-1px);
	box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);
}
.site-tray-item.active {
	border-color: var(--accent);
	box-shadow: 0 0 0 3px rgba(76, 194, 255, 0.2);
}
.site-tray-item img {
	width: 100%;
	height: 100%;
	object-fit: contain;
	filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.35));
}
.site-tray-item.fallback {
	font-size: 12px;
	font-weight: 600;
	color: var(--muted);
}

#site-tray,
#settings-modal,
#logs-modal,
#settings-modal .modal-section,
#site-list,
.log-box {
	scrollbar-width: thin;
	scrollbar-color: rgba(58, 167, 224, 0.65) rgba(14, 20, 27, 0.35);
}
#site-tray::-webkit-scrollbar,
#settings-modal::-webkit-scrollbar,
#logs-modal::-webkit-scrollbar,
#site-list::-webkit-scrollbar,
.log-box::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}
#site-tray::-webkit-scrollbar-thumb,
#settings-modal::-webkit-scrollbar-thumb,
#logs-modal::-webkit-scrollbar-thumb,
#site-list::-webkit-scrollbar-thumb,
.log-box::-webkit-scrollbar-thumb {
	background: rgba(58, 167, 224, 0.65);
	border-radius: 999px;
	border: 2px solid rgba(14, 20, 27, 0.35);
}
#site-tray::-webkit-scrollbar-track,
#settings-modal::-webkit-scrollbar-track,
#logs-modal::-webkit-scrollbar-track,
#site-list::-webkit-scrollbar-track,
.log-box::-webkit-scrollbar-track {
	background: rgba(8, 11, 17, 0.25);
	border-radius: 999px;
}
#site-tray::-webkit-scrollbar-thumb:hover,
#settings-modal::-webkit-scrollbar-thumb:hover,
#logs-modal::-webkit-scrollbar-thumb:hover,
#site-list::-webkit-scrollbar-thumb:hover,
.log-box::-webkit-scrollbar-thumb:hover {
	background: rgba(76, 194, 255, 0.85);
}
#site-tray::-webkit-scrollbar-corner,
#settings-modal::-webkit-scrollbar-corner,
#logs-modal::-webkit-scrollbar-corner,
#site-list::-webkit-scrollbar-corner,
.log-box::-webkit-scrollbar-corner {
	background: transparent;
}

html[data-theme="light"] #site-tray,
body[data-theme="light"] #site-tray,
html[data-theme="light"] #settings-modal,
body[data-theme="light"] #settings-modal,
html[data-theme="light"] #logs-modal,
body[data-theme="light"] #logs-modal,
html[data-theme="light"] #site-list,
body[data-theme="light"] #site-list,
html[data-theme="light"] .log-box,
body[data-theme="light"] .log-box {
	scrollbar-color: rgba(0, 120, 212, 0.6) rgba(235, 240, 245, 0.9);
}
html[data-theme="light"] #site-tray::-webkit-scrollbar-track,
body[data-theme="light"] #site-tray::-webkit-scrollbar-track,
html[data-theme="light"] #settings-modal::-webkit-scrollbar-track,
body[data-theme="light"] #settings-modal::-webkit-scrollbar-track,
html[data-theme="light"] #logs-modal::-webkit-scrollbar-track,
body[data-theme="light"] #logs-modal::-webkit-scrollbar-track,
html[data-theme="light"] #site-list::-webkit-scrollbar-track,
body[data-theme="light"] #site-list::-webkit-scrollbar-track,
html[data-theme="light"] .log-box::-webkit-scrollbar-track,
body[data-theme="light"] .log-box::-webkit-scrollbar-track {
	background: rgba(226, 232, 240, 0.9);
}
html[data-theme="light"] #site-tray::-webkit-scrollbar-thumb,
body[data-theme="light"] #site-tray::-webkit-scrollbar-thumb,
html[data-theme="light"] #settings-modal::-webkit-scrollbar-thumb,
body[data-theme="light"] #settings-modal::-webkit-scrollbar-thumb,
html[data-theme="light"] #logs-modal::-webkit-scrollbar-thumb,
body[data-theme="light"] #logs-modal::-webkit-scrollbar-thumb,
html[data-theme="light"] #site-list::-webkit-scrollbar-thumb,
body[data-theme="light"] #site-list::-webkit-scrollbar-thumb,
html[data-theme="light"] .log-box::-webkit-scrollbar-thumb,
body[data-theme="light"] .log-box::-webkit-scrollbar-thumb {
	background: rgba(0, 120, 212, 0.7);
	border: 2px solid rgba(240, 244, 248, 0.9);
}
html[data-theme="light"] #site-tray::-webkit-scrollbar-thumb:hover,
body[data-theme="light"] #site-tray::-webkit-scrollbar-thumb:hover,
html[data-theme="light"] #settings-modal::-webkit-scrollbar-thumb:hover,
body[data-theme="light"] #settings-modal::-webkit-scrollbar-thumb:hover,
html[data-theme="light"] #logs-modal::-webkit-scrollbar-thumb:hover,
body[data-theme="light"] #logs-modal::-webkit-scrollbar-thumb:hover,
html[data-theme="light"] #site-list::-webkit-scrollbar-thumb:hover,
body[data-theme="light"] #site-list::-webkit-scrollbar-thumb:hover,
html[data-theme="light"] .log-box::-webkit-scrollbar-thumb:hover,
body[data-theme="light"] .log-box::-webkit-scrollbar-thumb:hover {
	background: rgba(0, 120, 212, 0.85);
}

#viewport {
	position: absolute;
	inset: 0;
	width: 100%;
	height: 100%;
	border: 0;
	background: #000;
}

/* Current URL indicator (top-left) */
#url-indicator {
	position: fixed;
	top: 12px;
	left: 12px;
	z-index: 9;
	background: var(--panel);
	color: var(--fg);
	border: 1px solid var(--panel-border);
	border-radius: 8px;
	padding: 8px 10px;
	box-shadow: var(--shadow);
	max-width: 50vw;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	font-size: 12px;
	opacity: 0;
	pointer-events: none;
	transform: translateY(-6px);
	transition: opacity .18s ease, transform .18s ease;
}
#url-indicator.visible {
	opacity: .85;
	pointer-events: auto;
	transform: translateY(0);
}

/* Gesture edge to detect touch/move without blocking iframe */
#gesture-edge {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	height: 8px;
	z-index: 11;
	background: transparent;
	pointer-events: auto;
}

/* Settings Modal (centered panel) */
#settings-modal {
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	width: min(960px, 95vw);
	max-height: 88vh;
	overflow: auto;
	padding: 14px;
	background: var(--panel);
	border: 1px solid var(--panel-border);
	border-radius: 12px;
	box-shadow: var(--shadow);
	z-index: 1000; /* ensure modal is above floating buttons */
	opacity: 0;
	pointer-events: none;
	transition: opacity .18s ease;
}
#settings-modal.open {
	opacity: 1;
	pointer-events: auto;
}

.modal-header {
	display: flex;
	align-items: center;
	justify-content: flex-start;
	gap: 8px;
	margin-bottom: 8px;
}
.modal-top {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin: 0 0 6px 0;
}
.modal-top .logo {
	font-weight: 800;
	letter-spacing: .4px;
	color: var(--fg);
	font-size: 14px;
	text-transform: uppercase;
	opacity: .95;
}
.modal-top .logo .version {
	font-weight: 600;
	font-size: 10px;
	margin-left: 8px;
	color: var(--muted);
	text-transform: none;
	opacity: .9;
}
.ghost {
	background: transparent;
	color: var(--muted);
	border: 1px solid var(--panel-border);
}
.ghost:hover { color: var(--fg); border-color: #2b3644; }
.modal-header h2 {
	font-size: 16px;
	margin: 0;
	color: var(--fg);
}
#close-modal {
	background: transparent;
	border: 1px solid var(--panel-border);
	color: var(--muted);
	border-radius: 8px;
	padding: 4px 8px;
	cursor: pointer;
}
#close-modal:hover { color: var(--fg); border-color: #2b3644; }

.modal-section {
	margin: 10px 0 12px;
}
.modal-section.inline {
	display: grid;
	grid-template-columns: 240px 1fr auto;
	align-items: center;
	gap: 10px;
}
.modal-section.inline .stacked-actions {
	margin-top: 0;
}
.modal-section.inline select,
.modal-section.inline input[type="number"],
.modal-section.inline input[type="url"],
.modal-section.inline input[type="text"] {
	width: 100%;
}
.modal-section.inline .switch {
	justify-self: start;
}
.modal-section h3 {
	margin: 6px 0 8px;
	font-size: 14px;
	color: var(--fg);
}
label {
	display: block;
	font-size: 12px;
	color: var(--muted);
	margin-bottom: 6px;
}
.row {
	display: flex;
	gap: 8px;
}
.spacer {
	flex: 0 0 8px;
}
.stacked-actions {
	margin-top: 8px;
	display: flex;
	gap: 8px;
}
input[type="number"], input[type="url"] {
	flex: 1;
	background: var(--panel);
	color: var(--fg);
	border: 1px solid var(--panel-border);
	border-radius: 8px;
	padding: 10px 12px;
	outline: none;
}
input::placeholder {
	color: #6c7a86;
}
/* Specific style for the "Neue Playlist" input */
#new-playlist-name {
	flex: 1;
	background: var(--panel);
	border: 1px solid var(--panel-border);
	border-radius: 10px;
	padding: 12px 14px;
	color: var(--fg);
	box-shadow: inset 0 1px 0 rgba(0,0,0,0.02);
}
#new-playlist-name:focus {
	border-color: var(--panel-border);
	box-shadow: 0 0 0 3px rgba(76,194,255,0.12);
}
select {
	flex: 1;
	background: var(--panel);
	color: var(--fg);
	border: 1px solid var(--panel-border);
	border-radius: 8px;
	padding: 10px 12px;
	outline: none;
	appearance: none;
	background-image:
		linear-gradient(45deg, transparent 50%, var(--muted) 50%),
		linear-gradient(135deg, var(--muted) 50%, transparent 50%),
		linear-gradient(to right, var(--panel), var(--panel));
	background-position:
		calc(100% - 20px) calc(50% - 3px),
		calc(100% - 14px) calc(50% - 3px),
		calc(100% - 40px) 50%;
	background-size: 6px 6px, 6px 6px, 1px 60%;
	background-repeat: no-repeat;
}
input:focus {
	border-color: var(--panel-border);
	box-shadow: 0 0 0 3px rgba(76,194,255,0.12);
}

/* Logs modal (centered) */
#logs-modal {
	position: fixed;
	inset: 50% auto auto 50%;
	transform: translate(-50%, -50%);
	width: min(800px, 95vw);
	max-height: 80vh;
	overflow: auto;
	padding: 14px;
	background: var(--panel);
	border: 1px solid var(--panel-border);
	border-radius: 12px;
	box-shadow: var(--shadow);
	z-index: 1100;
	opacity: 0;
	pointer-events: none;
	transition: opacity .18s ease, transform .18s ease;
}
#logs-modal.open {
	opacity: 1;
	pointer-events: auto;
}
.log-box {
	background: var(--panel);
	color: var(--fg);
	border: 1px solid var(--panel-border);
	border-radius: 8px;
	padding: 10px;
	white-space: pre-wrap;
	max-height: 240px;
	overflow: auto;
}
.grow { flex: 1; }
select:focus {
	border-color: #2b3644;
	box-shadow: 0 0 0 3px rgba(76,194,255,0.12);
}

/* Toggle switch (rounded) */
.switch {
	position: relative;
	display: inline-block;
	width: 46px;
	height: 26px;
}
.switch input { opacity: 0; width: 0; height: 0; }
.switch .slider {
	position: absolute;
	cursor: pointer;
	inset: 0;
	background-color: #0e141b;
	border: 1px solid var(--panel-border);
	transition: .2s;
}
.switch .slider:before {
	position: absolute;
	content: "";
	height: 20px;
	width: 20px;
	left: 2px;
	top: 2px;
	background-color: var(--muted);
	transition: .2s;
	border-radius: 50%;
}
.switch input:checked + .slider {
	background-color: #123249;
	border-color: #2b3644;
	box-shadow: 0 0 0 3px rgba(76,194,255,0.12);
}
.switch input:checked + .slider:before {
	transform: translateX(20px);
	background-color: var(--accent);
}
.switch .slider.round {
	border-radius: 34px;
}
button {
	background: var(--accent);
	color: #062034;
	border: 0;
	border-radius: 8px;
	padding: 10px 12px;
	font-weight: 600;
	cursor: pointer;
}
button.danger {
	background: var(--danger);
	color: #2a0000;
}
button:disabled { opacity: .5; cursor: not-allowed; }

.hint {
	margin: 6px 0 0;
	color: var(--muted);
	font-size: 12px;
}

#site-list {
	list-style: none;
	padding: 0;
	margin: 0;
	display: grid;
	gap: 8px;
}
.site-item {
	display: grid;
	grid-template-columns: 1fr auto auto;
	align-items: center;
	gap: 8px;
	padding: 8px;
	background: var(--panel);
	border: 1px solid var(--panel-border);
	border-radius: 8px;
}
.site-item .url {
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
	color: var(--fg);
	font-size: 13px;
}
.site-item .controls {
	display: flex;
	gap: 6px;
}
.icon-btn {
	background: transparent;
	border: 1px solid var(--panel-border);
	color: var(--muted);
	padding: 6px 8px;
	border-radius: 8px;
	cursor: pointer;
}
.icon-btn:hover { color: var(--fg); border-color: #2b3644; }

.modal-footer {
	display: flex;
	justify-content: space-between;
	gap: 8px;
	margin-top: 8px;
}

/* Small invisible hotspot in top-right (optional assist) */
.hotspot {
	position: fixed;
	top: 0;
	right: 0;
	width: 48px;
	height: 48px;
	z-index: 1;
}


